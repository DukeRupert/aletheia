<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{block "title" .}}Aletheia - Construction Safety Inspection{{end}}</title>

  <!-- HTMX -->
  <script src="https://unpkg.com/htmx.org@1.9.10"></script>

  <!-- Alpine.js -->
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.13.5/dist/cdn.min.js"></script>

  <!-- Minimal CSS -->
  <link rel="stylesheet" href="/static/css/main.css">

  {{block "head" .}}{{end}}
</head>
<body>
  <!-- Skip to main content for accessibility -->
  <a href="#main" class="skip-link">Skip to main content</a>

  {{if .IsAuthenticated}}
    {{template "nav" .}}
  {{end}}

  <!-- Flash messages -->
  {{if .FlashMessage}}
  <div class="alert alert-{{.FlashType}}">
    <strong>{{if eq .FlashType "error"}}Error:{{else if eq .FlashType "success"}}Success:{{else}}Info:{{end}}</strong> {{.FlashMessage}}
  </div>
  {{end}}

  <!-- Main content area -->
  <main id="main">
    {{block "content" .}}{{end}}
  </main>

  <!-- Modal container for HTMX -->
  <div id="modal" class="modal">
    <div class="modal-backdrop"></div>
    <div class="modal-content">
      <!-- Dynamic content swapped in by HTMX -->
    </div>
  </div>

  {{block "scripts" .}}{{end}}
</body>
</html>
