{{/*
  Avatar Component - Catalyst UI Kit Style

  Usage:
    {{template "avatar" (dict "ImageURL" "/path/to/image.jpg" "Alt" "User name")}}
    {{template "avatar" (dict "Initials" "JD" "Size" "lg")}}

  Parameters:
    - ImageURL: Avatar image URL (if provided, shows image)
    - Initials: Fallback initials (if no image)
    - Alt: Alt text for image
    - Size: xs, sm, md, lg, xl (default: "md")
    - Shape: circle, square (default: "circle")
    - Class: Additional CSS classes
*/}}

{{define "avatar"}}
<span class="{{template "avatar-classes" .}}">
  {{if .ImageURL}}
    <img src="{{.ImageURL}}"
         alt="{{.Alt}}"
         class="size-full object-cover">
  {{else if .Initials}}
    <span class="flex size-full items-center justify-center bg-zinc-900 text-white dark:bg-white dark:text-zinc-900 font-medium uppercase">
      {{.Initials}}
    </span>
  {{else}}
    {{/* Default empty avatar */}}
    <span class="flex size-full items-center justify-center bg-zinc-200 dark:bg-zinc-700">
      <svg class="size-1/2 text-zinc-400 dark:text-zinc-500" fill="currentColor" viewBox="0 0 24 24">
        <path d="M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z" />
      </svg>
    </span>
  {{end}}
</span>
{{end}}

{{define "avatar-classes"}}
inline-grid shrink-0 align-middle overflow-hidden
forced-colors:outline

{{/* Shape */}}
{{$shape := or .Shape "circle"}}
{{if eq $shape "square"}}
  rounded-[20%]
{{else}}
  rounded-full
{{end}}

{{/* Size */}}
{{$size := or .Size "md"}}
{{if eq $size "xs"}}
  size-6
{{else if eq $size "sm"}}
  size-8
{{else if eq $size "lg"}}
  size-12
{{else if eq $size "xl"}}
  size-16
{{else}}
  size-10
{{end}}

{{.Class}}
{{end}}
