{{define "nav"}}
<nav>
  <div class="container">
    <div class="nav-content">
      <a href="/" class="logo">Aletheia</a>

      <ul class="nav-links">
        <li><a href="/dashboard">Dashboard</a></li>
        <li><a href="/inspections">Inspections</a></li>
        <li><a href="/projects">Projects</a></li>
      </ul>

      <!-- User dropdown menu with Alpine.js -->
      <div class="nav-user" x-data="{ open: false }">
        <button @click="open = !open" aria-label="User menu" class="btn-secondary">
          {{if .User}}{{.User.Name}}{{else}}Account{{end}}
        </button>

        <div x-show="open" @click.away="open = false" class="dropdown" x-cloak>
          <a href="/settings/profile">Profile</a>
          <a href="/organizations">Organizations</a>
          <a href="/settings">Settings</a>
          <hr>
          <form hx-post="/api/auth/logout" hx-swap="none">
            <button type="submit" class="btn-link">Logout</button>
          </form>
        </div>
      </div>
    </div>
  </div>
</nav>
{{end}}
