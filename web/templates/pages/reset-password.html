{{template "base" .}}

{{define "title"}}Reset Password - Aletheia{{end}}

{{define "content"}}
<div class="flex min-h-screen items-center justify-center px-4 py-12 bg-zinc-50 dark:bg-zinc-950">
  <div class="w-full max-w-md">
    <!-- Logo -->
    <div class="flex justify-center mb-8">
      <a href="/" class="text-2xl font-bold text-zinc-950 dark:text-white">
        Aletheia
      </a>
    </div>

    <!-- Card -->
    <div class="rounded-3xl bg-white p-8 shadow-lg ring-1 ring-zinc-950/5 dark:bg-zinc-900 dark:ring-white/10">
      <h1 class="text-2xl/8 font-semibold text-zinc-950 dark:text-white">
        Reset Password
      </h1>
      <p class="mt-2 text-sm/6 text-zinc-500 dark:text-zinc-400">
        Enter your new password below.
      </p>

      <form
        hx-post="/api/auth/reset-password"
        hx-target="#reset-form"
        hx-swap="outerHTML"
        id="reset-form"
        class="mt-8 space-y-6">

        <input type="hidden" name="token" value="{{.Token}}">

        <!-- New Password field -->
        <div class="space-y-1">
          <label for="password" class="text-base/6 text-zinc-950 sm:text-sm/6 dark:text-white font-medium">
            New Password
          </label>
          {{template "input" (dict "Type" "password" "Name" "password" "ID" "password" "Required" true "Autofocus" true "Minlength" 8 "Placeholder" "At least 8 characters")}}
          <p class="text-xs/5 text-zinc-500 dark:text-zinc-500">
            Must be at least 8 characters
          </p>
        </div>

        <!-- Confirm Password field -->
        <div class="space-y-1">
          <label for="confirm_password" class="text-base/6 text-zinc-950 sm:text-sm/6 dark:text-white font-medium">
            Confirm Password
          </label>
          {{template "input" (dict "Type" "password" "Name" "confirm_password" "ID" "confirm_password" "Required" true "Minlength" 8 "Placeholder" "Re-enter your password")}}
        </div>

        <!-- Submit button -->
        {{template "button" (dict "Type" "submit" "Content" "Reset Password" "Variant" "solid" "Color" "blue" "Class" "w-full")}}
      </form>

      <!-- Divider -->
      {{template "divider" (dict "Class" "my-8")}}

      <!-- Sign in link -->
      <div class="text-center text-sm/6 text-zinc-500 dark:text-zinc-400">
        Remember your password?
        <a href="/login"
           class="font-medium text-zinc-950 hover:text-zinc-700 dark:text-white dark:hover:text-zinc-300">
          Sign in
        </a>
      </div>
    </div>
  </div>
</div>
{{end}}
