{{template "base" .}}

{{define "title"}}Projects - Aletheia{{end}}

{{define "content"}}
<div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8">
  {{/* Breadcrumb */}}
  {{template "breadcrumb" (dict
    "Items" (slice
      (dict "Label" "Dashboard" "URL" "/dashboard")
      (dict "Label" "Projects" "URL" "")
    )
  )}}

  {{template "page-header" (dict
    "Title" "Projects"
    "Description" "Manage construction projects and safety inspections"
    "Action" (dict "Content" "New Project" "Href" "/projects/new" "Variant" "solid" "Color" "blue")
  )}}

  <div class="px-gutter pb-16">
    {{if .Projects}}
      <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
        {{range .Projects}}
          <div class="group relative rounded-2xl bg-white p-6 ring-1 ring-zinc-950/5
                      dark:bg-zinc-900 dark:ring-white/10 transition-shadow
                      hover:shadow-lg hover:ring-zinc-950/10 dark:hover:ring-white/20">
            <!-- Project name -->
            <h3 class="text-base/7 font-semibold text-zinc-950 dark:text-white">
              {{.Name}}
            </h3>

            <!-- Created date -->
            <p class="mt-2 text-sm/6 text-zinc-500 dark:text-zinc-400">
              Created {{.CreatedAt.Time.Format "Jan 2, 2006"}}
            </p>

            <!-- Actions -->
            <div class="mt-6 flex gap-3">
              <a href="/projects/{{.ID}}">
                {{template "button" (dict
                  "Content" "View"
                  "Variant" "solid"
                  "Color" "blue"
                  "Size" "sm"
                )}}
              </a>
              <a href="/projects/{{.ID}}/inspections">
                {{template "button" (dict
                  "Content" "Inspections"
                  "Variant" "outline"
                  "Size" "sm"
                )}}
              </a>
            </div>
          </div>
        {{end}}
      </div>
    {{else}}
      {{template "empty-state" (dict
        "Title" "No projects yet"
        "Description" "Create your first project to get started with safety inspections"
        "Icon" "<path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21\" />"
        "Action" (dict "Label" "Create Project" "Href" "/projects/new" "Variant" "solid" "Color" "blue")
      )}}
    {{end}}
  </div>
</div>
{{end}}
