{{template "base" .}}

{{define "title"}}Organizations - Aletheia{{end}}

{{define "content"}}
<div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8">
  {{/* Breadcrumb */}}
  {{template "breadcrumb" (dict
    "Items" (slice
      (dict "Label" "Dashboard" "URL" "/dashboard")
      (dict "Label" "Organizations" "URL" "")
    )
  )}}

  {{template "page-header" (dict
    "Title" "Organizations"
    "Description" "Manage your organizations and team members"
    "Action" (dict "Content" "New Organization" "Href" "/organizations/new" "Variant" "solid" "Color" "blue")
  )}}

  <div class="px-gutter pb-16">
    {{if .Organizations}}
      <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
        {{range .Organizations}}
          <a href="/organizations/{{.ID}}"
             class="group relative rounded-2xl bg-white p-6 ring-1 ring-zinc-950/5
                    hover:bg-zinc-50 dark:bg-zinc-900 dark:ring-white/10
                    dark:hover:bg-zinc-800 transition-colors">
            <!-- Organization name -->
            <h3 class="text-base/7 font-semibold text-zinc-950 dark:text-white">
              {{.Name}}
            </h3>

            <!-- Role badge -->
            <div class="mt-2">
              {{template "badge" (dict "Content" .Role "Color" "blue" "Size" "sm")}}
            </div>

            <!-- Created date -->
            <p class="mt-4 text-sm/6 text-zinc-500 dark:text-zinc-400">
              Created {{.CreatedAt.Time.Format "Jan 2, 2006"}}
            </p>

            <!-- Arrow icon -->
            <div class="absolute right-6 top-6 opacity-0 group-hover:opacity-100 transition-opacity">
              <svg class="size-5 text-zinc-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
              </svg>
            </div>
          </a>
        {{end}}
      </div>
    {{else}}
      {{template "empty-state" (dict
        "Title" "No organizations yet"
        "Description" "Create your first organization to get started"
        "Icon" "<path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\" />"
        "Action" (dict "Label" "Create Organization" "Href" "/organizations/new" "Variant" "solid" "Color" "blue")
      )}}
    {{end}}
  </div>
</div>
{{end}}
